<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Horarios</title>
    <link rel="stylesheet" href="css/landing-modal.css">
    <link rel="stylesheet" href="css/style.css?v=2.2">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="js/personnel-manager.js"></script>
    <script src="js/unified-storage.js"></script>
</head>
<body>
    <!-- Modal de Landing Page -->
    <div id="landingModal" class="show">
        <div class="landing-window">

            <!-- Barra de título estilo ventana -->
            <div class="landing-titlebar">
                <span class="titlebar-dot red"></span>
                <span class="titlebar-dot yellow"></span>
                <span class="titlebar-dot green"></span>
                <!--<span class="titlebar-label">Crew Planner</span>-->
            </div>

            <div class="landing-background-svg">
                <svg viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad-green" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#4CAF50" />
                            <stop offset="100%" style="stop-color:#66BB6A" />
                        </linearGradient>
                        <linearGradient id="grad-blue-top" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#1565C0" />
                            <stop offset="100%" style="stop-color:#42A5F5" />
                        </linearGradient>
                        <radialGradient id="sunGrad">
                            <stop offset="0%" style="stop-color:#FFB74D" />
                            <stop offset="100%" style="stop-color:#FF9800" />
                        </radialGradient>
                    </defs>

                    <!-- ONDAS SUPERIORES (animadas con CSS) -->
                    <path class="wave-1" fill="#1565C0" opacity="0.25" d="M0,0 L1920,0 L1920,300 C1400,150 700,350 0,200 Z" />
                    <path class="wave-2" fill="#1976D2" opacity="0.3" d="M0,50 L1920,50 L1920,280 C1300,320 800,80 0,240 Z" />
                    <path class="wave-3" fill="#42A5F5" opacity="0.25" d="M0,100 L1920,100 L1920,350 C1200,200 900,450 0,300 Z" />

                    <!-- ONDAS INFERIORES (multicolor, animadas) -->
                    <path class="wave-1" fill="url(#grad-green)" opacity="0.7" d="M0,1080 L1920,1080 L1920,750 C1400,850 700,950 0,800 Z" />
                    <path class="wave-2" fill="#FDD835" opacity="0.6" d="M0,1080 L1920,1080 L1920,850 C1300,950 800,750 0,900 Z" />
                    <path class="wave-3" fill="#FF9800" opacity="0.65" d="M0,1080 L1920,1080 L1920,920 C1200,1000 900,820 0,950 Z" />
                    <path class="wave-1" fill="#4FC3F7" opacity="0.5" d="M0,1080 L1920,1080 L1920,980 C1100,900 1000,1050 0,980 Z" />
                    <path class="wave-2" fill="#1976D2" opacity="0.6" d="M0,1080 L1920,1080 L1920,1020 C1000,950 1200,1080 0,1030 Z" />

                    <!-- Puntos decorativos inferiores -->
                    <g opacity="0.5">
                        <circle cx="1580" cy="880" r="4" fill="#1976D2" />
                        <circle cx="1600" cy="880" r="4" fill="#1976D2" />
                        <circle cx="1620" cy="880" r="4" fill="#1976D2" />
                        <circle cx="1640" cy="880" r="4" fill="#1976D2" />
                        <circle cx="1660" cy="880" r="4" fill="#1976D2" />
                        <circle cx="1580" cy="900" r="4" fill="#1976D2" />
                        <circle cx="1600" cy="900" r="4" fill="#1976D2" />
                        <circle cx="1620" cy="900" r="4" fill="#1976D2" />
                        <circle cx="1640" cy="900" r="4" fill="#1976D2" />
                        <circle cx="1660" cy="900" r="4" fill="#1976D2" />
                        <circle cx="1580" cy="920" r="4" fill="#1976D2" />
                        <circle cx="1600" cy="920" r="4" fill="#1976D2" />
                        <circle cx="1620" cy="920" r="4" fill="#1976D2" />
                        <circle cx="1640" cy="920" r="4" fill="#1976D2" />
                        <circle cx="1660" cy="920" r="4" fill="#1976D2" />
                        <animate attributeName="opacity" dur="4s" repeatCount="indefinite" values="0.3; 0.7; 0.3" />
                    </g>
                </svg>
            </div>

            <div class="landing-content">
                <div class="landing-left">
                    <object type="image/svg+xml" data="img/main.svg"></object>
                </div>
                <div class="landing-right">
                    <div class="landing-title-container">
                        <h1>
                            <span class="landing-title-crew">Crew</span>
                            <span class="landing-title-planner">Planner</span>
                        </h1>
                    </div>
                    <p class="landing-subtitle">Efficient Team Management & Scheduling</p>
                    <div class="landing-buttons">
                        <button class="landing-btn landing-btn-primary" onclick="closeLandingModal()">Continuar</button>
                        <!--<button class="landing-btn landing-btn-secondary">Learn More</button>-->
                    </div>
                </div>
            </div>
        </div><!-- /.landing-window -->
    </div>

    <script>
        // Mostrar el modal al cargar la página
        window.addEventListener('DOMContentLoaded', function () {
            const landingModal = document.getElementById('landingModal');
            const hasVisited = localStorage.getItem('hasVisitedLanding');

            if (!hasVisited) {
                landingModal.classList.add('show');
            }

            // ── Animación letra por letra (explosión inversa) ──
            const directions = [
                'translate(-180px, -120px) rotate(-25deg) scale(2.5)',
                'translate(160px, -150px) rotate(20deg) scale(3)',
                'translate(-140px, 160px) rotate(15deg) scale(2.8)',
                'translate(200px, 100px) rotate(-18deg) scale(2.2)',
                'translate(-100px, -200px) rotate(30deg) scale(3.2)',
                'translate(180px, -80px) rotate(-22deg) scale(2.6)',
                'translate(-200px, 80px) rotate(12deg) scale(2.4)',
                'translate(120px, 180px) rotate(-30deg) scale(2.9)',
                'translate(-160px, 140px) rotate(25deg) scale(2.1)',
                'translate(90px, -190px) rotate(-15deg) scale(3.1)',
                'translate(-220px, -60px) rotate(18deg) scale(2.7)',
            ];

            let letterIndex = 0;

            function splitToLetters(span) {
                const text = span.textContent;
                span.textContent = '';
                [...text].forEach((char, i) => {
                    const el = document.createElement('span');
                    el.className = 'title-letter';
                    el.textContent = char === ' ' ? '\u00A0' : char;
                    const dir = directions[letterIndex % directions.length];
                    el.style.setProperty('--letter-from', dir);
                    // delay escalonado: crew desde 0.3s, planner desde 0.55s
                    const baseDelay = span.classList.contains('landing-title-crew') ? 0.3 : 0.55;
                    el.style.animationDelay = (baseDelay + i * 0.07) + 's';
                    span.appendChild(el);
                    letterIndex++;
                });
            }

            splitToLetters(document.querySelector('.landing-title-crew'));
            splitToLetters(document.querySelector('.landing-title-planner'));

            // Calcular el tiempo total de las animaciones
            // La animación de "Planner" empieza en 0.55s y tiene más letras
            // Asumiendo que "Planner" tiene 7 letras: 0.55 + (6 * 0.07) = 0.97s de delay
            // Más 0.7s de duración de animación = 1.67s total
            // Agregamos 3 segundos después = 4.67s total
            const totalAnimationTime = 1670; // en ms (1.67s)
            const delayBeforeClose = 3000; // 3 segundos adicionales
            const totalWaitTime = totalAnimationTime + delayBeforeClose;

            // Cerrar automáticamente después de que las animaciones terminen
            setTimeout(() => {
                closeLandingModal();
            }, totalWaitTime);
        });

        // Función para cerrar el modal
        function closeLandingModal() {
            const landingModal = document.getElementById('landingModal');
            landingModal.classList.remove('show');
            localStorage.setItem('hasVisitedLanding', 'true');
        }

        // Cerrar con Enter
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                const landingModal = document.getElementById('landingModal');
                if (landingModal.classList.contains('show')) {
                    closeLandingModal();
                }
            }
        });
    </script>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h1>📋 Crew Cajas</h1>

                <div class="date-selector">
                    <label>📅</label>
                    <input type="date" id="weekDate" value="">
                </div>
                <!-- Pestañas de días -->

                <div class="day-tabs">
                    <button class="day-tab active" data-day="0">LUN</button>
                    <button class="day-tab" data-day="1">MAR</button>
                    <button class="day-tab" data-day="2">MIÉ</button>
                    <button class="day-tab" data-day="3">JUE</button>
                    <button class="day-tab" data-day="4">VIE</button>
                    <button class="day-tab" data-day="5">SÁB</button>
                    <button class="day-tab" data-day="6">DOM</button>
                    <button onclick="openPrintConfigModal()" class="print1-schedule-btn">🖨️</button>
                    <button onclick="openWeekPrintConfigModal()" class="print-schedule-btn" style="background: var(--accent-teal); border-color: #00ACC1;">🗓️ Imprimir semana</button>

                </div>
            </div>

            <div class="header-right">


                <!-- Botón Hamburguesa -->
                <button class="hamburger-btn" id="hamburgerBtn" aria-label="Menú">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>

        <!-- Menú Lateral -->
        <div class="side-menu" id="sideMenu">
            <div class="side-menu-header">
                <h2>⚙️ Opciones</h2>
                <button class="close-menu-btn" id="closeMenuBtn">&times;</button>
            </div>

            <div class="side-menu-content">
                <!-- Sección Navegación -->
                <div class="menu-section">
                    <div class="menu-section-title">📍 Navegación</div>
                    <button class="menu-item" onclick="window.location.href='encargados.html'">
                        <span class="menu-icon">👔</span>
                        <span class="menu-text">Crew Encargados</span>
                    </button>
                    <button class="menu-item" onclick="window.location.href='planilla-horarios.html'">
                        <span class="menu-icon">📊</span>
                        <span class="menu-text">Planilla de Horarios</span>
                    </button>
                    <button class="menu-item" onclick="window.location.href='personal.html'">
                        <span class="menu-icon">👥</span>
                        <span class="menu-text">Gestionar Personal</span>
                    </button>
                    <button class="menu-item" onclick="window.location.href='codigos.html'">
                        <span class="menu-icon">🔢</span>
                        <span class="menu-text">Gestionar Códigos</span>
                    </button>
                </div>

                <!-- Sección Acciones -->
                <div class="menu-section">
                    <div class="menu-section-title">🔧 Acciones</div>
                    <button class="menu-item" id="menuExportPDF">
                        <span class="menu-icon">📥</span>
                        <span class="menu-text">Exportar PDF</span>
                    </button>
                    <button class="menu-item" id="menuExportBackup">
                        <span class="menu-icon">💾</span>
                        <span class="menu-text">Guardar Backup</span>
                    </button>
                    <button class="menu-item" id="menuImportBackup">
                        <span class="menu-icon">📂</span>
                        <span class="menu-text">Cargar Backup</span>
                    </button>
                </div>

                <!-- Sección Gestión -->
                <div class="menu-section">
                    <div class="menu-section-title">👥 Gestión</div>
                    <button class="menu-item" id="menuManagePersonnel">
                        <span class="menu-icon">👤</span>
                        <span class="menu-text">Gestionar Personal</span>
                    </button>
                </div>

                <!-- Sección Peligro -->
                <div class="menu-section danger-section">
                    <div class="menu-section-title">⚠️ Zona de Peligro</div>
                    <button class="menu-item danger-item" id="menuClearData">
                        <span class="menu-icon">🗑️</span>
                        <span class="menu-text">Limpiar Todo</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Overlay para cerrar menú -->
        <div class="menu-overlay" id="menuOverlay"></div>

        <!-- Botones ocultos para mantener event listeners -->
        <div style="display: none;">
            <button id="exportPDF"></button>
            <button id="exportBackup"></button>
            <button id="importBackup"></button>
            <button id="managePersonnel"></button>
            <button id="clearData"></button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Schedule Area -->
            <div class="schedule-area" id="scheduleArea">
                <div class="schedule-grid" id="scheduleGrid">
                    <!-- Las 26 cajas se generarán dinámicamente con JavaScript -->
                </div>

                <!-- Francos -->
                <div class="francos-section">
                    <div class="francos-section-title">🏖️ Francos</div>
                    <div class="francos-dropzone" id="francosDropzone" data-dropzone="francos">
                        <div id="francosList" class="francos-list">
                            <!-- Se generará dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Personal Disponible -->
                <div class="sidebar-section">
                    <div class="sidebar-title" id="personnelTitle">👥 Personal Disponible</div>
                    <div id="personnelList" class="personnel-list">
                        <!-- Se generará dinámicamente -->
                    </div>
                </div>

                <!-- Licencias -->
                <div class="sidebar-section" id="licenciasSection">
                    <div class="sidebar-title">🏥 Licencias</div>
                    <div class="licencias-dropzone" id="licenciasDropzone" data-dropzone="licencias">
                        <div class="licencias-dropzone-title">Arrastra aquí para asignar licencia</div>
                        <div id="licenciasList" class="licencias-list">
                            <!-- Se generará dinámicamente -->
                        </div>
                    </div>
                </div>

                <!-- Vacaciones -->
                <div class="sidebar-section" id="vacacionesSection">
                    <div class="sidebar-title">✈️ Vacaciones</div>
                    <div class="vacaciones-dropzone" id="vacacionesDropzone" data-dropzone="vacaciones">
                        <div class="vacaciones-dropzone-title">Arrastra aquí para asignar vacaciones</div>
                        <div id="vacacionesList" class="vacaciones-list">
                            <!-- Se generará dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Configuración de Impresión -->
    <div id="printConfigModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🖨️ Configuración de Impresión</h2>
                <span class="close-modal" onclick="closePrintConfigModal()">&times;</span>
            </div>

            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <p style="font-size: 14px; color: var(--text-medium); margin-bottom: 15px;">
                        Selecciona qué horarios de <strong>salida</strong> deseas omitir en la impresión:
                    </p>
                </div>

                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px; background: var(--bg-secondary); border-radius: 6px; transition: all 0.2s;">
                        <input type="checkbox" id="omitTurno1Salida" style="cursor: pointer; width: 18px; height: 18px;">
                        <span style="font-weight: 600; color: var(--text-dark);">Turno 1 - Salida</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px; background: var(--bg-secondary); border-radius: 6px; transition: all 0.2s;">
                        <input type="checkbox" id="omitTurno2Salida" style="cursor: pointer; width: 18px; height: 18px;">
                        <span style="font-weight: 600; color: var(--text-dark);">Turno 2 - Salida</span>
                    </label>

                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; padding: 10px; background: var(--bg-secondary); border-radius: 6px; transition: all 0.2s;">
                        <input type="checkbox" id="omitTurno3Salida" style="cursor: pointer; width: 18px; height: 18px;">
                        <span style="font-weight: 600; color: var(--text-dark);">Turno 3 - Salida</span>
                    </label>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 25px; justify-content: flex-end;">
                    <button onclick="closePrintConfigModal()" style="padding: 10px 20px; background: var(--border-medium); color: var(--text-dark); border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                        Cancelar
                    </button>
                    <button onclick="proceedWithPrint()" style="padding: 10px 20px; background: var(--primary-green); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                        🖨️ Imprimir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Configuración de Impresión Semanal -->
    <div id="weekPrintConfigModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2>🗓️ Configuración de Impresión Semanal</h2>
                <span class="close-modal" onclick="closeWeekPrintConfigModal()">&times;</span>
            </div>

            <div class="modal-body">
                <div style="margin-bottom: 20px;">
                    <p style="font-size: 14px; color: var(--text-medium); margin-bottom: 15px;">
                        Configura qué horarios de <strong>salida</strong> omitir para cada día de la semana:
                    </p>
                </div>

                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <!-- Lunes -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Lunes</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="0" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="0" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="0" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>

                    <!-- Martes -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Martes</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="1" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="1" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="1" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>

                    <!-- Miércoles -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Miércoles</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="2" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="2" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="2" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>

                    <!-- Jueves -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Jueves</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="3" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="3" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="3" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>

                    <!-- Viernes -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Viernes</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="4" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="4" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="4" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>

                    <!-- Sábado -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Sábado</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="5" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="5" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="5" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>

                    <!-- Domingo -->
                    <div style="border: 2px solid var(--border-light); border-radius: 8px; padding: 15px; background: var(--bg-secondary);">
                        <h3 style="margin: 0 0 10px 0; color: var(--primary-blue); font-size: 16px;">📅 Domingo</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="6" data-turno="1" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 1 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="6" data-turno="2" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 2 - Salida</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" class="week-print-config" data-day="6" data-turno="3" style="cursor: pointer; width: 16px; height: 16px;">
                                <span style="font-size: 13px; color: var(--text-dark);">Turno 3 - Salida</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 25px; justify-content: flex-end;">
                    <button onclick="closeWeekPrintConfigModal()" style="padding: 10px 20px; background: var(--border-medium); color: var(--text-dark); border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                        Cancelar
                    </button>
                    <button onclick="proceedWithWeekPrint()" style="padding: 10px 20px; background: var(--accent-teal); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                        🖨️ Imprimir Semana
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Gestión de Personal -->
    <div id="personnelModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>👥 Gestión de Personal</h2>
                <span class="close-modal">&times;</span>
            </div>

            <div class="modal-body">
                <!-- Botones de acción -->
                <div class="modal-actions">
                    <button class="btn-add" id="addPersonBtn">➕ Agregar Persona</button>
                    <button class="btn-export" id="exportPersonnelJSON">💾 Guardar JSON</button>
                    <button class="btn-import" id="importPersonnelJSON">📂 Cargar JSON</button>
                    <div class="personnel-stats">
                        <span id="personnelTotal">Total: 0</span>
                        <span id="personnelActive">Activos: 0</span>
                        <span id="personnelInactive">Inactivos: 0</span>
                    </div>
                </div>

                <!-- Tabla de personal -->
                <div class="personnel-table-container">
                    <table class="personnel-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Estado</th>
                                <th>Contrato</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="personnelTableBody">
                            <!-- Se llenará dinámicamente -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="js/print-config.js"></script>
    <script src="js/main.js?v=2.1"></script>
</body>
</html>